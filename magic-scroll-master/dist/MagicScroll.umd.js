!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).MagicScroll=e()}(this,function(){"use strict";var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3)};return class{constructor(t){Object.assign(this,t),this.target||(this.target=document.scrollingElement||document.documentElement||document.body.parentNode||document.body),this.speed=this.speed||80,this.smooth=this.smooth||12,this.pos=this.current||0,this.frame=this.target===document.body&&document.documentElement?document.documentElement:this.target,this.min=this.min||0,this.max=this.target.scrollHeight-this.target.clientHeight,this.moving=!1,this.target.scrollTop=this.pos,this.target.addEventListener("mousewheel",i,{passive:!1}),this.target.addEventListener("DOMMouseScroll",i,{passive:!1}),this.target.addEventListener("scroll",t=>{this.moving||(this.pos=t.target.scrollTop)},{passive:!1});const e=this;function i(t){var i=e.normalizeWheelDelta(t);e.pos+=-i*e.speed,e.pos=Math.max(0,Math.min(e.pos,e.max)),e.moving||e.update()}}normalizeWheelDelta(t){return t.detail?t.wheelDelta?t.wheelDelta/t.detail/40*(t.detail>0?1:-1):-t.detail/3:t.wheelDelta/120}update(){this.moving=!0;var e=(this.pos-this.target.scrollTop)/this.smooth;this.target.scrollTop+=e,this.onUpdate&&this.onUpdate(this.target.scrollTop);const i=this;Math.abs(e)>1?t(()=>{i.update()}):this.moving=!1}}});
